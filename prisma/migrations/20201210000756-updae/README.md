# Migration `20201210000756-updae`

This migration has been generated by Phat Tran at 12/10/2020, 7:07:56 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "public"."file_storage_main_index"

DROP INDEX "public"."item_main_index"

CREATE INDEX "file_storage_main_index" ON "public"."FileStorage"("bucketName", "folderName")

CREATE INDEX "item_main_index" ON "public"."Item"("slug", "keyword", "status", "ownerUserId", "isDeleted")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201209120107-update-user..20201210000756-updae
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -99,9 +99,9 @@
   createdBy         String
   createdDate       DateTime      @default(now())
   isDeleted         Boolean?      @default(false)
-  @@index(fields: [bucketName, isUploadSuccess, isDeleted, createdBy], name: "file_storage_main_index")
+  @@index(fields: [bucketName, folderName], name: "file_storage_main_index")
 }
 enum ItemStatus {
   Draft
@@ -140,9 +140,9 @@
   updatedDate             DateTime        @default(now())
   updatedBy               String
   keyword                 String?
-  @@index(fields: [name, slug, keyword, status, ownerUserId, isDeleted], name: "item_main_index")
+  @@index(fields: [slug, keyword, status, ownerUserId, isDeleted], name: "item_main_index")
 }
 enum RentingMandatoryVerifyDocumentDataType {
   Label
```


